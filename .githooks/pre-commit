#!/usr/bin/env sh
set -eu

if command -v py >/dev/null 2>&1; then
  py -3 scripts/secret_guard.py --mode staged
  exit $?
fi

if command -v python3 >/dev/null 2>&1; then
  python3 scripts/secret_guard.py --mode staged
  exit $?
fi

if command -v python >/dev/null 2>&1; then
  python scripts/secret_guard.py --mode staged
  exit $?
fi

echo "Python is required to run the pre-commit secret scan." >&2
exit 1
