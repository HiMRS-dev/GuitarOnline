# Example extension file for real on-call routing.
# Merge the receiver blocks below into ops/alertmanager/alertmanager.yml
# and update `route.receiver` / `routes` as needed.

receivers:
  - name: slack-critical
    slack_configs:
      - api_url: "https://hooks.slack.com/services/REPLACE/ME"
        channel: "#ops-alerts"
        send_resolved: true
        title: "{{ .CommonLabels.alertname }} ({{ .Status }})"
        text: "{{ .CommonAnnotations.summary }}\n{{ .CommonAnnotations.description }}"

  - name: pagerduty-critical
    pagerduty_configs:
      - routing_key: "REPLACE_WITH_PAGERDUTY_INTEGRATION_KEY"
        severity: "critical"
        send_resolved: true
        description: "{{ .CommonAnnotations.summary }}"

  - name: email-warning
    email_configs:
      - to: "ops@example.com"
        from: "alerts@example.com"
        smarthost: "smtp.example.com:587"
        auth_username: "smtp-user"
        auth_password: "smtp-password"
        require_tls: true
